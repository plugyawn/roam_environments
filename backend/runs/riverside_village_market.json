{
  "scene_id": "riverside_village_market",
  "prompt": "Design a pastoral riverside village with a market square",
  "requirements": {
    "setting": "pastoral riverside village",
    "key_feature": "market square",
    "population_estimate": "500-2000 residents",
    "market_river_distance": "within 500 meters of river landing",
    "building_height": "1-3 stories",
    "construction_materials": "local stone, wood, or brick",
    "additional_features": [
      "church",
      "tavern",
      "residential quarters",
      "docking area",
      "flood zone considerations"
    ],
    "requirements": [
      {
        "concept": "market_square",
        "min_count": 1
      },
      {
        "concept": "residential_building",
        "min_count": 1
      },
      {
        "concept": "residential_building",
        "min_count": 1
      },
      {
        "concept": "tavern",
        "min_count": 1
      },
      {
        "concept": "church",
        "min_count": 1
      },
      {
        "concept": "river",
        "min_count": 1
      },
      {
        "concept": "docking_pier",
        "min_count": 1
      }
    ]
  },
  "scene_spec": {
    "map": {
      "type": "village_riverside",
      "dimensions": {
        "width": 800,
        "length": 1200
      },
      "features": {
        "river": {
          "width": 30,
          "location": "west edge",
          "flow_direction": "north to south"
        },
        "market_square": {
          "location": "central area, 200m from river",
          "dimensions": {
            "width": 80,
            "length": 80
          },
          "features": [
            "cobblestone paving",
            "central fountain",
            "covered stalls"
          ]
        },
        "residential_area": {
          "location": "north and east of market",
          "density": "low-rise cluster"
        },
        "commercial_area": {
          "location": "adjacent to market square",
          "features": [
            "tavern",
            "general store",
            "craft workshops"
          ]
        },
        "religious_building": {
          "type": "church",
          "location": "south of market square"
        },
        "docking_area": {
          "location": "riverbank, adjacent to market access path",
          "features": [
            "wooden pier",
            "boat moorings",
            "cargo storage"
          ]
        }
      }
    },
    "entities": [
      {
        "concept": "market_square",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "residential_building",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "residential_building",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "tavern",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "church",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "river",
        "count": 1,
        "attrs": {}
      },
      {
        "concept": "docking_pier",
        "count": 1,
        "attrs": {}
      }
    ],
    "constraints": []
  },
  "assets": [
    {
      "id": "market_square_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/market_square_001.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "market_square",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "market_square": "default_grey"
        },
        "id": "market_square_001",
        "tags": [
          "market_square",
          "market_square_001"
        ]
      }
    },
    {
      "id": "residential_building_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/residential_building_001.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "residential_building",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "residential_building": "default_grey"
        },
        "id": "residential_building_001",
        "tags": [
          "residential_building",
          "residential_building_001"
        ]
      }
    },
    {
      "id": "residential_building_002",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/residential_building_002.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "residential_building",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "residential_building": "default_grey"
        },
        "id": "residential_building_002",
        "tags": [
          "residential_building",
          "residential_building_002"
        ]
      }
    },
    {
      "id": "tavern_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/tavern_001.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "tavern",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "tavern": "default_grey"
        },
        "id": "tavern_001",
        "tags": [
          "tavern",
          "tavern_001"
        ]
      }
    },
    {
      "id": "church_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/church_001.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "church",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "church": "default_grey"
        },
        "id": "church_001",
        "tags": [
          "church",
          "church_001"
        ]
      }
    },
    {
      "id": "river_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/river_001.glb",
      "bbox": [
        20.0,
        0.010000000000000009,
        200.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "plane",
            "name": "surface",
            "w": 20,
            "d": 200,
            "offset": [
              0,
              -0.2,
              0
            ]
          }
        ],
        "materials": {
          "surface": "water_blue"
        },
        "id": "river_001",
        "tags": [
          "river",
          "river_001"
        ]
      }
    },
    {
      "id": "docking_pier_001",
      "glb_path": "/Users/plugyawn/bounties/roam_environments/backend/assets/docking_pier_001.glb",
      "bbox": [
        1.0,
        1.0,
        1.0
      ],
      "recipe": {
        "recipe": [
          {
            "primitive": "cuboid",
            "name": "docking_pier",
            "w": 1.0,
            "h": 1.0,
            "d": 1.0
          }
        ],
        "materials": {
          "docking_pier": "default_grey"
        },
        "id": "docking_pier_001",
        "tags": [
          "docking_pier",
          "docking_pier_001"
        ]
      }
    }
  ],
  "map_plan": {
    "map_id": "village_riverside_map_001",
    "layout": "rectangular_grid",
    "dimensions": {
      "width": 800,
      "length": 1200
    },
    "zones": [
      {
        "name": "market_district",
        "area": {
          "x_min": 300,
          "x_max": 500,
          "y_min": 500,
          "y_max": 700
        }
      },
      {
        "name": "residential_zone_north",
        "area": {
          "x_min": 200,
          "x_max": 600,
          "y_min": 700,
          "y_max": 1000
        }
      },
      {
        "name": "residential_zone_east",
        "area": {
          "x_min": 500,
          "x_max": 750,
          "y_min": 500,
          "y_max": 800
        }
      },
      {
        "name": "religious_zone",
        "area": {
          "x_min": 350,
          "x_max": 450,
          "y_min": 300,
          "y_max": 500
        }
      },
      {
        "name": "river_zone",
        "area": {
          "x_min": 0,
          "x_max": 50,
          "y_min": 0,
          "y_max": 1200
        }
      },
      {
        "name": "docking_area",
        "area": {
          "x_min": 50,
          "x_max": 150,
          "y_min": 550,
          "y_max": 650
        }
      }
    ]
  },
  "scene_graph": {
    "map": {
      "map_id": "village_riverside_map_001",
      "layout": "rectangular_grid",
      "dimensions": {
        "width": 800,
        "length": 1200
      },
      "zones": [
        {
          "name": "market_district",
          "area": {
            "x_min": 300,
            "x_max": 500,
            "y_min": 500,
            "y_max": 700
          }
        },
        {
          "name": "residential_zone_north",
          "area": {
            "x_min": 200,
            "x_max": 600,
            "y_min": 700,
            "y_max": 1000
          }
        },
        {
          "name": "residential_zone_east",
          "area": {
            "x_min": 500,
            "x_max": 750,
            "y_min": 500,
            "y_max": 800
          }
        },
        {
          "name": "religious_zone",
          "area": {
            "x_min": 350,
            "x_max": 450,
            "y_min": 300,
            "y_max": 500
          }
        },
        {
          "name": "river_zone",
          "area": {
            "x_min": 0,
            "x_max": 50,
            "y_min": 0,
            "y_max": 1200
          }
        },
        {
          "name": "docking_area",
          "area": {
            "x_min": 50,
            "x_max": 150,
            "y_min": 550,
            "y_max": 650
          }
        }
      ]
    },
    "placements": [
      {
        "asset_id": "market_square_001",
        "pos": [
          400,
          0,
          600
        ],
        "rotY": 0,
        "ref": "market_square_001"
      },
      {
        "asset_id": "residential_building_001",
        "pos": [
          350,
          0,
          750
        ],
        "rotY": 0,
        "ref": "residential_building_001"
      },
      {
        "asset_id": "residential_building_002",
        "pos": [
          450,
          0,
          800
        ],
        "rotY": 1.57,
        "ref": "residential_building_002"
      },
      {
        "asset_id": "tavern_001",
        "pos": [
          320,
          0,
          550
        ],
        "rotY": 0,
        "ref": "tavern_001"
      },
      {
        "asset_id": "church_001",
        "pos": [
          400,
          0,
          400
        ],
        "rotY": 0,
        "ref": "church_001"
      },
      {
        "asset_id": "river_001",
        "pos": [
          0,
          0,
          600
        ],
        "rotY": 0,
        "ref": "river_001"
      },
      {
        "asset_id": "docking_pier_001",
        "pos": [
          60,
          0,
          600
        ],
        "rotY": 0,
        "ref": "docking_pier_001"
      }
    ],
    "scene_id": "riverside_village_market",
    "assets": [
      "market_square_001",
      "residential_building_001",
      "residential_building_002",
      "tavern_001",
      "church_001",
      "river_001",
      "docking_pier_001"
    ]
  },
  "validation": {
    "status": "pass",
    "issues": [],
    "metrics": {
      "concept_counts": {
        "market_square": 1,
        "residential_building": 2,
        "tavern": 1,
        "church": 1,
        "river": 1,
        "docking_pier": 1
      }
    }
  }
}